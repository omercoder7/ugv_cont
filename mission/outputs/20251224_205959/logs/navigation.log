[OUTPUT] Logging to: /home/ws/ugv_cont/mission/outputs/20251224_205959
[OUTPUT] Log file: /home/ws/ugv_cont/mission/outputs/20251224_205959/logs/navigation.log
=======================================================
NEXT-BEST-VIEW (NBV) NAVIGATION
=======================================================
Speed: 0.08 m/s
Goal distance: 0.5-2.0m
Press Ctrl+C to stop

[DEBUG] Marker publishing enabled - check /nav_goal in RViz
[MARKER] Persistent marker publisher started - add /nav_goal in RViz
[START] Initial position: (0.00, 0.00)
[START] Origin wall signature: ['0.59', '0.58', '0.58', '0.58', '0.58', '0.59', '0.61', '0.63', '1.01', '0.93', '0.85', '0.79', '0.60', '0.57', '0.55', '0.51', '0.48', '0.51', '0.55', '0.54', '0.53', '0.63', '0.67', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '5.00', '0.75', '0.82', '1.71', '1.93', '3.82', '3.75', '3.83', '1.80', '1.80', '1.32', '1.32', '1.35', '1.39', '1.44', '0.98', '0.80', '0.76', '0.73', '0.67', '0.63', '0.61', '0.61']
[MARKER] Origin marker (blue) started at (0.00, 0.00) - add /nav_origin in RViz

[  2.9s] [GOAL SELECT] robot@(0.00,0.00) | 19 candidates (scanned=50 walls=22 visited=1):
  #1 ang=-107° d=2.00m pos=(-0.55,-1.92) score=+36.1 [O=+2.5 U=+34.0 V=-0.0 W=-1.0 R=-0.0 F=+0.0] <-- BEST
  #2 ang= -58° d=0.50m pos=(0.27,-0.42) score=+33.2 [O=+1.9 U=+37.2 V=-3.0 W=-3.0 R=-0.0 F=+0.0]
  #3 ang= -64° d=0.50m pos=(0.23,-0.45) score=+31.2 [O=+1.9 U=+35.2 V=-3.0 W=-3.0 R=-0.0 F=+0.0]
  #4 ang= -82° d=1.00m pos=(0.15,-0.99) score=+31.1 [O=+1.8 U=+32.0 V=-0.0 W=-3.0 R=-0.0 F=+0.0]
  #5 ang= -70° d=0.50m pos=(0.18,-0.47) score=+29.2 [O=+1.8 U=+33.2 V=-3.0 W=-3.0 R=-0.0 F=+0.0]
  #6 ang=-107° d=1.50m pos=(-0.41,-1.44) score=+28.0 [O=+2.5 U=+26.0 V=-0.0 W=-1.0 R=-0.0 F=+0.0]
  #7 ang= -76° d=0.50m pos=(0.13,-0.48) score=+25.2 [O=+1.8 U=+29.2 V=-3.0 W=-3.0 R=-0.0 F=+0.0]
  #8 ang=-113° d=1.00m pos=(-0.38,-0.93) score=+23.2 [O=+1.9 U=+22.0 V=-0.0 W=-1.0 R=-0.0 F=+0.0]
[  5.4s] [GOAL] Selected: (-0.55, -1.92) dist=2.00m timeout=50s angle=-107° reason=no goal
[  1] DRIVE goal=(-0.55,-1.92) dist=2.00m front=0.58m cells=1 rms=0.0cm[  2] DRIVE goal=(-0.55,-1.92) dist=1.99m front=0.57m cells=1 rms=1.0cm[  4] DRIVE goal=(-0.55,-1.92) dist=1.99m front=0.74m cells=1 rms=2.4cm
[ 18.1s] [TURN ENTER] Entering TURN mode

[BLOCKED DEBUG] Goal angle: -6.0° (sector 59), goal_dist: 1.97m, goal_dir_min: 1.79m, margin: 0.15m
[BLOCKED DEBUG] Checking 1 sectors (robot angular width at 2.0m = 5.2°): {59: 1.787}
[BLOCKED DEBUG] Check: 1.79 < 1.97 - 0.15 = 1.82? True
[BLOCKED DEBUG] (Full front arc for reference: {55: 1.823, 56: 3.786, 57: 3.707, 58: 3.782, 59: 1.787, 0: 1.776, 1: 1.293, 2: 1.301, 3: 1.323, 4: 1.357, 5: 1.414})

[BLOCKED TURN] goal_sector=59, best_sector=59 (dist=1.79m), target_angle=-6.0°, angle_error=-6.0°, v=0.05, w=-0.16
[  5] TURN goal=(-0.55,-1.92) dist=1.97m front=1.29m cells=1 rms=2.8cm[  6] TURN goal=(-0.55,-1.92) dist=2.25m front=0.51m cells=1 rms=4.7cmWaiting for LiDAR...
[  8] DRIVE goal=(-0.55,-1.92) dist=2.34m front=0.42m cells=1 rms=7.0cm[  9] DRIVE goal=(-0.55,-1.92) dist=2.34m front=0.42m cells=1 rms=8.3cmWaiting for LiDAR...


Stopping (Ctrl+C)...
[MARKER] Publisher stopped

=======================================================
NBV NAVIGATION COMPLETE
=======================================================
Final state: exploring
Duration: 34.0s
Iterations: 11
Goals reached: 0
Backups: 0
Unique cells visited: 1
Cells scanned by LiDAR: 83
Walls detected: 52

--- Drive Accuracy ---
Cross-track RMS error: 8.3cm
Total distance traveled: 0.46m
Ideal distance (sum of goals): 2.00m
Drive efficiency: 437.9%
Revisit rate: 100.0%

--- Map Accuracy Suggestions ---
To measure map accuracy, consider:
1. Ground truth comparison: Place markers at known positions,
   compare measured vs actual distances between them
2. Loop closure error: After returning to origin, check
   odometry drift (final_dist to origin should be ~0)
3. Feature alignment: Compare map walls to actual room layout
4. Consistency check: Run multiple times, overlay maps
5. Tape measure validation: Measure actual room dimensions,
   compare to map scale (resolution * pixels)
